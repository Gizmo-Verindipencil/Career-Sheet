import{WorkingHoursGraphModel}from"../../model/graph/working-hours-graph-model.min.js";import{Utility}from"../../shared/utility.min.js";import ScriptSeriesLoader from"../../shared/script-series-loader.min.js";class WorkingHoursGraphController{constructor(){this.model=new WorkingHoursGraphModel,this.scriptLoader=ScriptSeriesLoader,this.scriptLoader.add("https://cdn.plot.ly/plotly-latest.min.min.js"),this.scriptLoader.load()}static build=async()=>{const r=new WorkingHoursGraphController;for(;r.scriptLoader.running;)await Utility.sleep(2e3);return r};execute=()=>{const r=(r,e,t)=>({mode:"scatter",name:r,line:{color:e},x:t.map((r=>r.yearMonth)),y:t.map((r=>r.value))}),e=[r("実績(h)","rgb(255,0,0)",this.model.getActual()),r("実働移動平均(h)","rgb(255,130,130)",this.model.getActualEMA()),r("実働全体平均(h)","rgb(255,160,160)",this.model.getActualAverage()),r("計画(h)","rgb(0,0,255)",this.model.getPrescribed()),r("計画移動平均(h)","rgb(130,130,255)",this.model.getPrescribedEMA()),r("計画全体平均(h)","rgb(160,160,255)",this.model.getPrescribedAverage())];Plotly.newPlot("graph-container",e,{title:"実働/計画時間"})}}export{WorkingHoursGraphController};