import{createInstance}from"../keyword/create-instance.min.js";import{Buildable}from"../interface/buildable.min.js";import{CareerSheetModel}from"../model/career-sheet-model.min.js";import{Threading}from"../shared/threading.min.js";import{PageColorAdjuster}from"../shared/page-color-adjuster.min.js";import ScriptSeriesLoader from"../shared/script-series-loader.min.js";class CareerSheetController extends Buildable{constructor(){super(),this.model=new CareerSheetModel,this.scriptLoader=ScriptSeriesLoader,this.scriptLoader.add("https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js","jQuery"),this.scriptLoader.load(),this.urls=[],this.urls.push("core-information.html"),this.urls.push("work-experience.html"),this.urls.push("qualification.html"),this.urls.push("statistics.html"),this.urls.push("supplementary.html")}static build=async()=>{const e=new CareerSheetController;for(;e.scriptLoader.running;)await Threading.sleep(2e3);return e};execute=async()=>{this.appendPages(this.urls);(await createInstance(PageColorAdjuster)).changeBackgroundColor(),$("body").addClass("loaded")};appendPages=()=>{const e=()=>{if(0===this.urls.length)return;const r=this.urls.shift();$.ajax({type:"GET",url:r,async:!0,success:r=>{$("body").append(r),e()}})};e()}}export{CareerSheetController};