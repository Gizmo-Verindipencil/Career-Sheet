import{CareerSheetModel}from"../model/career-sheet-model.min.js";import{Utility}from"../shared/utility.min.js";import ScriptSeriesLoader from"../shared/script-series-loader.min.js";class CareerSheetController{constructor(){this.model=new CareerSheetModel,this.scriptLoader=ScriptSeriesLoader,this.scriptLoader.add("https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"),this.scriptLoader.add("js/vendor/season-reminder.min.js"),this.scriptLoader.load()}static build=async()=>{const e=new CareerSheetController;for(;e.scriptLoader.running;)await Utility.sleep(2e3);return e};execute=()=>{const e=[];e.push("core-information.html"),e.push("work-experience.html"),e.push("qualification.html"),e.push("statistics.html"),e.push("supplementary.html"),this.appendPages(e),$("body").addClass("loaded")};appendPages=e=>{const r={};for(const t of e)r[t]=!1;const t=()=>{if(0===e.length)return;const s=e.shift();$.ajax({type:"GET",url:s,async:!0,success:e=>{const o=$(e);$("body").append(o),o.ready((()=>{r[s]=!0;for(const e in r)if(!r[e])return;this.changeBackgroundColor()})),t()}})};t()};changeBackgroundColor=()=>{const e=new SeasonReminder;e.seasonInfluence=10;const r=Array.from(document.getElementsByClassName("preloader-section"));e.remindAll("background-color",r)}}export{CareerSheetController};