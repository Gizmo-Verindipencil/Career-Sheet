SeasonReminder=function(e){this._today=e||new Date,this._date=this._getDefaultSeasonDate(),this._color=this._getDefaultSeasonColor(),this.seasonEffect=10,this.maxNumberOfReminding=1},SeasonReminder.prototype._getDefaultSeasonDate=function(){const e=new Object;e.spring=new Date(this._today.getFullYear()+"/3/21"),e.summer=new Date(this._today.getFullYear()+"/6/22"),e.autumn=new Date(this._today.getFullYear()+"/9/23"),e.winter=new Date(this._today.getFullYear()+"/12/22");const t=new Date(e.winter.getTime());t.setFullYear(t.getFullYear()-1),e.lastWinter=t;const n=new Date(e.spring.getTime());return n.setFullYear(n.getFullYear()+1),e.nextSpring=n,e},SeasonReminder.prototype._getDefaultSeasonColor=function(){const e=new Object;return e.spring="rgb(124, 252, 0)",e.summer="rgb(255, 99, 71)",e.autumn="rgb(210, 105, 30)",e.winter="rgb(176, 224, 230)",e.lastWinter=e.winter,e.nextSpring=e.spring,e},SeasonReminder.prototype._getDayDifference=function(e,t){return Math.abs(Math.ceil((e-t)/864e5))},SeasonReminder.prototype._getSeasonDegrees=function(){const e=[];for(var t in this._date)e.push({name:t,degree:this._getDayDifference(this._today,this._date[t])});for(e.sort(((e,t)=>e.degree-t.degree));e.length>2;)e.pop();const n=e[0].degree+e[1].degree;return e[0].degree=Math.round(e[0].degree/n*100),e[1].degree=Math.round(e[1].degree/n*100),e},SeasonReminder.prototype._isRGB=function(e){const t=e.match(/\d+/g);return!(!t||3!==t.length||!e.toLowerCase().startsWith("rgb"))},SeasonReminder.prototype._isRGBA=function(e){const t=e.match(/\d+/g);return!(!t||4!==t.length&&5!==t.length||!e.toLowerCase().startsWith("rgba"))},SeasonReminder.prototype._isHexCode=function(e){return!(!e.startsWith("#")||4!==e.length&&7!==e.length)},SeasonReminder.prototype._createRGB=function(e){return`rgb(${e.join(",")})`},SeasonReminder.prototype._createRGBA=function(e,t){return`rgba(${e.join(",")},${t})`},SeasonReminder.prototype._createHexCode=function(e){return`#${e.map((e=>e.toString(16))).join("")}`},SeasonReminder.prototype._getRGBfromHexCode=function(e){if(e.startsWith("#")&&(e=e.slice(1)),3===e.length){const t=e.slice(0,1)+e.slice(0,1),n=e.slice(1,2)+e.slice(1,2),r=e.slice(2,3)+e.slice(2,3);e=t+n+r}const t=[e.slice(0,2),e.slice(2,4),e.slice(4,6)].map((e=>parseInt(e,16)));if(t.some((e=>Number.isNaN(e))))throw"Error: invalid hex code.";return t},SeasonReminder.prototype.getRemindedColor=function(e){const t=this._isHexCode(e),n=this._isRGB(e),r=this._isRGBA(e);let o;if(t?o=this._getRGBfromHexCode(e):(n||r)&&(o=e.match(/\d+/g)),!o)throw"Error: only color expressions such as 'rgb(0, 1, 2)' and 'rgba(0, 1, 2, 3)' and '#000102' are accepted.";const s=this._getSeasonDegrees(),i=this._color[s[0].name].match(/\d+/g),a=this._color[s[1].name].match(/\d+/g),c=[];for(let e=0;e<3;e++){const t=Number(a[e])-Number(i[e]),n=Number(i[e])+Math.round(t*(s[0].degree/100));c.push(n)}const d=[];for(let e=0;e<3;e++){const t=c[e]-Number(o[e]);let n=Number(o[e])+Math.round(t*(this.seasonEffect/100));n=n<0?0:n>255?255:n,d.push(n)}if(t)return this._createHexCode(d);switch(o.length){case 3:return this._createRGB(d);case 4:case 5:let e=o[3];return o[4]&&(e+="."+o[4]),this._createRGBA(d,e)}},SeasonReminder.prototype.remind=function(e,t){const n="numberOfReminding";if(e.dataset[n]&&e.dataset[n]>=this.maxNumberOfReminding)return;let r;if(r=r||window.getComputedStyle(e,""),r=r||e.currentStyle,r=r||document.defaultView.getComputedStyle(e,""),r[t]&&"rgba(0, 0, 0, 0)"!==r[t])try{const o=this.getRemindedColor(r[t]);e.style[t]=o||r[t],e.dataset[n]=1}catch{}},SeasonReminder.prototype.remindChildren=function(e,t,n,r){if(!e.children)return;const o=Array.from(e.children);for(let e=0;e<o.length;e++){const s=o[e];n&&!n.some((e=>e.isEqualNode(s)))&&(this.remind(s,t),r&&this.remindChildren(s,t,n,!0))}},SeasonReminder.prototype.remindAll=function(e,t=[]){const n=document.getElementsByTagName("*");for(let r=0;r<n.length;r++)t.some((e=>e.isEqualNode(n[r])))||this.remind(n[r],e)};